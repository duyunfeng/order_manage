import{_ as R}from"./CwqwnDqt.js";import{d as $,r as _,k as x,H as j,o as A,e as F,a1 as G,y as k,z as d,A as o,C as e,N as h,D as s,g as m,J as n,ac as H,ad as J,ae as K,K as W,af as O,ag as Q,ah as X,ai as Y,G as y,aj as Z,ak as ee,E as b,B as C,a4 as te,al as oe,F as se,M as ae,_ as le}from"./BxW7P6YO.js";const ne={class:"layout"},ue={class:"logo"},re={key:0,class:"title"},de={class:"main-area"},ie={class:"header"},ce={class:"header-left"},_e={class:"header-right",style:{position:"relative"}},me={key:0,class:"user-dropdown-menu",style:{position:"absolute",right:"0",top:"48px",background:"#fff","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.15)","border-radius":"6px","min-width":"120px","z-index":"1000"}},pe={class:"main-content"},fe=$({__name:"Layout",setup(L){const f=_("220px"),u=_(!1),p=_(!0),E=oe(),S=se(),D=x(()=>E.path),v=j(),g=x(()=>v.user.username),U=x(()=>g.value?g.value[0].toUpperCase():"U"),i=_(!1),c=_(!1),V=()=>{v.logout(),ae.success("已退出登录"),S.push("/login")},B=()=>{u.value=!u.value,f.value=u.value?"64px":"220px"};function M(l){l.preventDefault(),l.stopPropagation(),c.value=!c.value}function N(){c.value=!1,V()}function w(l){const t=document.querySelector(".user-dropdown-trigger"),a=document.querySelector(".user-dropdown-menu");t&&t.contains(l.target)||a&&a.contains(l.target)||(c.value=!1)}const z=()=>{document.documentElement.classList.remove("light"),document.documentElement.classList.toggle("dark"),localStorage.setItem("dark_mode",i.value?"true":"false")};return A(()=>{document.addEventListener("click",w),document.documentElement.classList.toggle("dark"),localStorage.getItem("dark_mode")==="true"?(i.value=!0,document.documentElement.classList.add("dark")):(i.value=!1,document.documentElement.classList.remove("dark"))}),F(()=>{document.removeEventListener("click",w)}),G(u,l=>{setTimeout(()=>{p.value=!l},300)}),(l,t)=>{const a=m("el-icon"),r=m("el-menu-item"),T=m("el-menu"),I=m("el-switch"),q=m("el-avatar");return d(),k("div",ne,[o("aside",{class:"sidebar",style:Y({width:f.value})},[o("div",ue,[t[1]||(t[1]=o("span",null,"🌿",-1)),p.value?(d(),k("span",re,"订单管理系统")):h("",!0)]),e(T,{"default-active":D.value,class:"el-menu-vertical-demo","background-color":"#263445","text-color":"#bfcbd9","active-text-color":"#409eff",collapse:u.value,router:!0},{default:s(()=>[e(r,{index:"/"},{default:s(()=>[e(a,null,{default:s(()=>[e(n(H))]),_:1}),t[2]||(t[2]=o("span",null,"首页",-1))]),_:1,__:[2]}),e(r,{index:"/goods"},{default:s(()=>[e(a,null,{default:s(()=>[e(n(J))]),_:1}),t[3]||(t[3]=o("span",null,"商品管理",-1))]),_:1,__:[3]}),e(r,{index:"/orders"},{default:s(()=>[e(a,null,{default:s(()=>[e(n(K))]),_:1}),t[4]||(t[4]=o("span",null,"订单管理",-1))]),_:1,__:[4]}),e(r,{index:"/customers"},{default:s(()=>[e(a,null,{default:s(()=>[e(n(W))]),_:1}),t[5]||(t[5]=o("span",null,"客户管理",-1))]),_:1,__:[5]}),e(r,{index:"/factories"},{default:s(()=>[e(a,null,{default:s(()=>[e(n(O))]),_:1}),t[6]||(t[6]=o("span",null,"工厂资料",-1))]),_:1,__:[6]}),e(r,{index:"/users"},{default:s(()=>[e(a,null,{default:s(()=>[e(n(Q))]),_:1}),t[7]||(t[7]=o("span",null,"用户管理",-1))]),_:1,__:[7]}),e(r,{index:"/profile"},{default:s(()=>[e(a,null,{default:s(()=>[e(n(X))]),_:1}),t[8]||(t[8]=o("span",null,"用户资料",-1))]),_:1,__:[8]})]),_:1},8,["default-active","collapse"])],4),o("div",de,[o("header",ie,[o("div",ce,[o("span",{class:"toggle-btn",onClick:B},[u.value?(d(),y(a,{key:1},{default:s(()=>[e(n(ee))]),_:1})):(d(),y(a,{key:0},{default:s(()=>[e(n(Z))]),_:1}))]),t[9]||(t[9]=o("span",{class:"title"},"首页",-1))]),o("div",_e,[e(I,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=P=>i.value=P),onChange:z},null,8,["modelValue"]),o("div",{class:"user-dropdown-trigger",style:{display:"flex","align-items":"center",cursor:"pointer","user-select":"none",outline:"none"},onClick:M,tabindex:"0"},[e(q,{size:32,style:{"margin-right":"8px"},src:n(v).user.avatar},{default:s(()=>[b(C(U.value),1)]),_:1},8,["src"]),b(" "+C(g.value),1)]),c.value?(d(),k("div",me,[o("div",{class:"user-dropdown-item",style:{padding:"10px 20px",cursor:"pointer",color:"#333"},onClick:N}," 退出系统 ")])):h("",!0)])]),o("main",pe,[te(l.$slots,"default",{},void 0,!0)])])])}}}),ve=le(fe,[["__scopeId","data-v-983a4838"]]),ke={__name:"default",setup(L){return(f,u)=>{const p=R;return d(),y(ve,null,{default:s(()=>[e(p)]),_:1})}}};export{ke as default};
