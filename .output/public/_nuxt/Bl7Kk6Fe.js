import{d as w,r as m,a1 as k,g as p,y as r,z as u,C as f,N as d,G as C,D as i,E as _}from"./BxW7P6YO.js";const B={key:0,style:{"margin-left":"12px",color:"#67c23a"}},N=["src"],b=w({__name:"ImageUpload",props:{modelValue:{}},emits:["update:modelValue","file-change"],setup(g,{expose:v,emit:h}){const c=g,t=h,e=m(c.modelValue||""),o=m(null);k(()=>c.modelValue,l=>{e.value=l});function x(l){return!1}function y(l){o.value=l.raw;const a=new FileReader;a.onload=n=>{var s;e.value=(s=n.target)==null?void 0:s.result,t("update:modelValue",e.value),t("file-change",o.value)},a.readAsDataURL(l.raw)}function V(){e.value="",o.value=null,t("update:modelValue",""),t("file-change",null)}return v({fileRaw:o}),(l,a)=>{const n=p("el-button"),s=p("el-upload");return u(),r("div",null,[f(s,{"auto-upload":!1,"show-file-list":!1,"before-upload":x,"on-change":y,accept:"image/*"},{default:i(()=>[f(n,{type:"primary"},{default:i(()=>a[0]||(a[0]=[_("选择图片")])),_:1,__:[0]})]),_:1}),e.value?(u(),r("span",B,"已选择")):d("",!0),e.value?(u(),r("img",{key:1,src:e.value,style:{"max-width":"60px","max-height":"60px","margin-left":"12px","vertical-align":"middle"}},null,8,N)):d("",!0),e.value?(u(),C(n,{key:2,type:"danger",size:"small",onClick:V,style:{"margin-left":"8px"}},{default:i(()=>a[1]||(a[1]=[_("移除")])),_:1,__:[1]})):d("",!0)])}}});export{b as _};
